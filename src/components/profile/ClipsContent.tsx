// Component for Clips content
"use client";

import Image from "next/image";

const clips = [
  {
    id: 1,
    preview: "/clip1.jpg",
    avatar: "/avatar1.jpg",
    user: "Zhliuk",
    title: "Зарабатывайте деньги, вырезая для ROKY",
    deadline: "до 10.05.25",
    sent: "Отправлен 11.05.25",
    price: "$10 / 1K просмотров",
    minViews: "Выплаты с 20K просмотров",
    link: "https://www.tiktok.com/@the.nick.pro/video/123456789",
    status: "Проверяется",
    statusColor: "bg-gray-700 text-gray-200",
    views: 0,
    reward: null,
    socials: ["instagram", "tiktok"],
  },
  {
    id: 2,
    preview: "/clip2.jpg",
    avatar: "/avatar2.jpg",
    user: "Heilen",
    title: "Зарабатывайте деньги, вырезая для ROKY",
    deadline: "до 10.05.25",
    sent: "Отправлен 11.05.25",
    price: "$10 / 1K просмотров",
    minViews: "Выплаты с 20K просмотров",
    link: "https://www.tiktok.com/@the.nick.pro/video/987654321",
    status: "Принят",
    statusColor: "bg-green-600 text-white",
    views: 43876,
    reward: "$43,8",
    socials: ["instagram", "tiktok"],
  },
  // ...ещё клипы
];

function SocialIcon({ type }: { type: string }) {
  if (type === "instagram")
    return (
      <svg width="20" height="20" viewBox="0 0 36 36" fill="none"><rect width="36" height="36" rx="9" fill="url(#ig)"/><path d="M15.0041 18.0463C15.0041 16.3881 16.3476 15.0434 18.0054 15.0434C19.6632 15.0434 21.0074 16.3881 21.0074 18.0463C21.0074 19.7046 19.6632 21.0492 18.0054 21.0492C16.3476 21.0492 15.0041 19.7046 15.0041 18.0463ZM13.3812 18.0463C13.3812 20.601 15.4515 22.6718 18.0054 22.6718C20.5593 22.6718 22.6296 20.601 22.6296 18.0463C22.6296 15.4917 20.5593 13.4208 18.0054 13.4208C15.4515 13.4208 13.3812 15.4917 13.3812 18.0463ZM21.732 13.2374C21.7319 13.4512 21.7952 13.6602 21.9139 13.838C22.0325 14.0159 22.2013 14.1545 22.3987 14.2364C22.5961 14.3183 22.8134 14.3398 23.023 14.2981C23.2327 14.2565 23.4253 14.1536 23.5765 14.0025C23.7276 13.8514 23.8306 13.6588 23.8724 13.4492C23.9142 13.2395 23.8929 13.0221 23.8112 12.8246C23.7295 12.627 23.591 12.4582 23.4134 12.3393C23.2357 12.2205 23.0268 12.157 22.8131 12.1569H22.8126C22.5261 12.157 22.2514 12.2709 22.0488 12.4735C21.8462 12.6761 21.7322 12.9509 21.732 13.2374ZM14.3672 25.3786C13.4892 25.3386 13.012 25.1923 12.6949 25.0688C12.2744 24.905 11.9744 24.71 11.659 24.395C11.3436 24.0799 11.1484 23.7801 10.9854 23.3595C10.8618 23.0425 10.7156 22.565 10.6757 21.6867C10.632 20.7372 10.6233 20.452 10.6233 18.0464C10.6233 15.6408 10.6327 15.3564 10.6757 14.4061C10.7156 13.5278 10.863 13.0513 10.9854 12.7333C11.1491 12.3127 11.3441 12.0126 11.659 11.6971C11.974 11.3816 12.2737 11.1863 12.6949 11.0233C13.0119 10.8997 13.4892 10.7534 14.3672 10.7135C15.3165 10.6698 15.6016 10.6611 18.0054 10.6611C20.4092 10.6611 20.6946 10.6705 21.6447 10.7135C22.5227 10.7535 22.9991 10.9008 23.317 11.0233C23.7374 11.1863 24.0374 11.3821 24.3528 11.6971C24.6682 12.0122 24.8628 12.3127 25.0264 12.7333C25.1501 13.0503 25.2963 13.5278 25.3362 14.4061C25.3799 15.3564 25.3886 15.6408 25.3886 18.0464C25.3886 20.452 25.3799 20.7364 25.3362 21.6867C25.2962 22.565 25.1493 23.0423 25.0264 23.3595C24.8628 23.7801 24.6678 24.0802 24.3528 24.395C24.0379 24.7097 23.7374 24.905 23.317 25.0688C23 25.1924 22.5227 25.3387 21.6447 25.3786C20.6954 25.4223 20.4103 25.431 18.0054 25.431C15.6005 25.431 15.3162 25.4223 14.3672 25.3786ZM14.2927 9.09288C13.334 9.13655 12.6789 9.28861 12.1068 9.51129C11.5143 9.74124 11.0127 10.0497 10.5115 10.5503C10.0103 11.0509 9.70271 11.5534 9.47282 12.146C9.25021 12.7186 9.09819 13.3736 9.05454 14.3325C9.01016 15.293 9 15.6 9 18.0463C9 20.4926 9.01016 20.7997 9.05454 21.7601C9.09819 22.7192 9.25021 23.374 9.47282 23.9466C9.70271 24.5389 10.0104 25.042 10.5115 25.5424C11.0127 26.0427 11.5143 26.3508 12.1068 26.5814C12.68 26.8041 13.334 26.9561 14.2927 26.9998C15.2533 27.0434 15.5598 27.0543 18.0054 27.0543C20.451 27.0543 20.758 27.0442 21.7181 26.9998C22.6769 26.9561 23.3316 26.8041 23.904 26.5814C24.4961 26.3508 24.9981 26.0429 25.4993 25.5424C26.0005 25.0418 26.3074 24.5389 26.538 23.9466C26.7606 23.374 26.9133 22.7191 26.9563 21.7601C26.9999 20.799 27.0101 20.4926 27.0101 18.0463C27.0101 15.6 26.9999 15.293 26.9563 14.3325C26.9126 13.3735 26.7606 12.7183 26.538 12.146C26.3074 11.5537 25.9997 11.0517 25.4993 10.5503C24.9988 10.049 24.4961 9.74124 23.9047 9.51129C23.3316 9.28861 22.6768 9.13583 21.7189 9.09288C20.7587 9.04921 20.4517 9.03833 18.0061 9.03833C15.5605 9.03833 15.2533 9.04849 14.2927 9.09288Z" fill="white"/><defs><linearGradient id="ig" x1="35.3081" y1="36" x2="-0.691919" y2="0" gradientUnits="userSpaceOnUse"><stop stopColor="#FBE18A"/><stop offset="0.21" stopColor="#FCBB45"/><stop offset="0.38" stopColor="#F75274"/><stop offset="0.52" stopColor="#D53692"/><stop offset="0.74" stopColor="#8F39CE"/><stop offset="1" stopColor="#5B4FE9"/></linearGradient></defs></svg>
    );
  if (type === "tiktok")
    return (
      <svg width="20" height="20" viewBox="0 0 36 36" fill="none"><rect width="36" height="36" rx="9" fill="black"/><path fillRule="evenodd" clipRule="evenodd" d="M21.8882 15.5523C23.0939 16.4102 24.5378 16.8686 26.0171 16.863V13.9286C25.7263 13.9294 25.4363 13.8982 25.1523 13.8357V16.1734C23.6696 16.1761 22.2236 15.7124 21.0184 14.8481V20.8832C21.0147 21.8735 20.7434 22.8444 20.2332 23.6928C19.7229 24.5413 18.9927 25.2358 18.1201 25.7025C17.2475 26.1693 16.2649 26.3911 15.2766 26.3442C14.2882 26.2974 13.331 25.9837 12.5063 25.4364C13.2691 26.2089 14.2438 26.7374 15.3069 26.9551C16.37 27.1728 17.4737 27.0698 18.4783 26.6593C19.4829 26.2487 20.3431 25.549 20.9501 24.6487C21.5572 23.7485 21.8836 22.6882 21.8882 21.6021V15.5523ZM22.9583 12.5592C22.3451 11.894 21.9689 11.0446 21.8882 10.1432V9.76172H21.0673C21.1687 10.3347 21.3895 10.8799 21.7153 11.3619C22.0411 11.8438 22.4646 12.2518 22.9583 12.5592ZM14.4071 23.1134C14.1226 22.741 13.9483 22.2961 13.9039 21.8294C13.8595 21.3627 13.947 20.8929 14.1562 20.4735C14.3655 20.0541 14.6882 19.7019 15.0876 19.457C15.487 19.2121 15.9471 19.0844 16.4154 19.0883C16.674 19.0882 16.9311 19.1278 17.1777 19.2057V16.1734C16.8894 16.1352 16.5987 16.1189 16.3079 16.1245V18.4818C15.7075 18.2919 15.0575 18.3351 14.4874 18.6029C13.9173 18.8707 13.4688 19.3434 13.2311 19.9271C12.9934 20.5108 12.9839 21.1627 13.2046 21.753C13.4252 22.3434 13.8597 22.8291 14.4218 23.1134H14.4071Z" fill="#EE1D52"/><path fillRule="evenodd" clipRule="evenodd" d="M21.0185 14.8285C22.2237 15.6929 23.6697 16.1565 25.1524 16.1539V13.8161C24.3077 13.6373 23.5403 13.1977 22.9584 12.5592C22.4648 12.2518 22.0413 11.8438 21.7155 11.3619C21.3897 10.8799 21.1689 10.3347 21.0674 9.76172H18.9076V21.6021C18.9056 22.1262 18.7397 22.6365 18.4331 23.0614C18.1265 23.4863 17.6947 23.8044 17.1983 23.9711C16.7018 24.1378 16.1657 24.1447 15.6651 23.9909C15.1646 23.8371 14.7247 23.5302 14.4073 23.1133C13.9043 22.8593 13.5014 22.443 13.2637 21.9317C13.0261 21.4204 12.9674 20.8439 13.0973 20.2951C13.2272 19.7464 13.538 19.2574 13.9795 18.9071C14.4211 18.5568 14.9677 18.3657 15.5312 18.3645C15.7897 18.3653 16.0466 18.4049 16.2934 18.4818V16.1245C15.227 16.1502 14.1913 16.4869 13.3134 17.0933C12.4355 17.6998 11.7536 18.5496 11.3515 19.5385C10.9493 20.5274 10.8444 21.6123 11.0496 22.66C11.2547 23.7077 11.7611 24.6727 12.5065 25.4364C13.3313 25.9876 14.2901 26.3045 15.2806 26.3534C16.2712 26.4023 17.2564 26.1814 18.1314 25.7141C19.0064 25.2469 19.7384 24.5508 20.2494 23.7001C20.7604 22.8494 21.0313 21.8758 21.0332 20.8832L21.0185 14.8285Z" fill="white"/><path fillRule="evenodd" clipRule="evenodd" d="M25.1525 13.8163V13.1854C24.3768 13.1887 23.616 12.9716 22.9586 12.5594C23.5389 13.1997 24.307 13.6397 25.1525 13.8163ZM21.0675 9.76191C21.0675 9.64942 21.0333 9.53205 21.0187 9.41956V9.03809H18.038V20.8834C18.0354 21.5466 17.77 22.1818 17.3001 22.6494C16.8301 23.117 16.194 23.3789 15.5313 23.3776C15.1411 23.3796 14.756 23.2891 14.4074 23.1135C14.7249 23.5304 15.1647 23.8372 15.6653 23.9911C16.1659 24.1449 16.702 24.138 17.1984 23.9713C17.6949 23.8046 18.1267 23.4865 18.4333 23.0616C18.7398 22.6367 18.9058 22.1264 18.9078 21.6023V9.76191H21.0675ZM16.2936 16.1198V15.4498C15.067 15.283 13.8202 15.537 12.7564 16.1702C11.6925 16.8035 10.8743 17.7787 10.435 18.937C9.99583 20.0953 9.96153 21.3683 10.3377 22.5486C10.7139 23.7289 11.4784 24.7469 12.5066 25.4366C11.7669 24.6711 11.2659 23.7065 11.0649 22.6607C10.8639 21.6149 10.9716 20.5331 11.3748 19.5476C11.778 18.562 12.4593 17.7153 13.3354 17.1109C14.2115 16.5066 15.2445 16.1707 16.3082 16.1443L16.2936 16.1198Z" fill="#69C9D0"/></svg>
    );
  return null;
}

export default function ClipsContent() {
  return (
    <div className="bg-black-02 rounded-xl p-0 overflow-hidden flex flex-col">
      {/* Сортировка */}
      <div className="flex items-center justify-between px-4 py-3 border-b border-black-01">
        <div className="text-white text-base font-medium">Сначала новые</div>
        <button className="text-gray-400">
          <svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5" stroke="currentColor" strokeWidth="2" strokeLinecap="round"/></svg>
        </button>
      </div>
      {/* Список клипов */}
      <div className="flex flex-col gap-4 px-2 py-4 sm:px-4">
        {clips.map((clip) => (
          <div key={clip.id} className="bg-black-01 rounded-2xl flex flex-col sm:flex-row gap-3 sm:gap-5 p-3 sm:p-4 relative">
            {/* Превью */}
            <div className="relative w-full sm:w-[160px] h-[120px] flex-shrink-0 rounded-xl overflow-hidden bg-black-02 flex items-center justify-center">
              <Image src={clip.preview} alt="preview" fill className="object-cover" />
              <div className="absolute inset-0 flex items-center justify-center">
                <button className="bg-black/60 rounded-full p-2">
                  <svg width="36" height="36" viewBox="0 0 36 36" fill="none"><circle cx="18" cy="18" r="18" fill="#FF883D"/><polygon points="14,12 26,18 14,24" fill="white"/></svg>
                </button>
              </div>
            </div>
            {/* Контент */}
            <div className="flex-1 flex flex-col gap-2 min-w-0">
              <div className="flex items-center gap-2">
                <Image src={clip.avatar} alt="avatar" width={32} height={32} className="rounded-full w-8 h-8" />
                <span className="text-white font-semibold text-base truncate">{clip.title}</span>
                <span className="ml-auto text-gray-400 text-xs whitespace-nowrap">{clip.sent}</span>
                {clip.socials.map((s) => <span key={s}><SocialIcon type={s} /></span>)}
              </div>
              <div className="flex flex-wrap gap-2">
                <div className="bg-black-02 rounded-lg px-3 py-1 text-orange-400 font-bold text-base">{clip.price}</div>
                <div className="bg-black-02 rounded-lg px-3 py-1 text-gray-400 text-sm">{clip.minViews}</div>
              </div>
              <div className="flex flex-wrap gap-2 items-center">
                <div className="flex-1 min-w-0">
                  <div className="text-gray-400 text-xs mb-1">Ваши клипы(4):</div>
                  <div className="flex items-center gap-2">
                    <a href={clip.link} className="truncate text-white bg-black-02 rounded-lg px-3 py-1 text-xs max-w-[180px] inline-block" target="_blank" rel="noopener noreferrer">{clip.link}</a>
                    <span className={`rounded-lg px-3 py-1 text-xs font-semibold ${clip.statusColor}`}>{clip.status}</span>
                  </div>
                </div>
                {clip.views > 0 && (
                  <div className="flex flex-col items-end">
                    <div className="text-gray-400 text-xs flex items-center gap-1">
                      <svg width="16" height="16" fill="none" viewBox="0 0 20 20"><path d="M10 2C5 2 1.73 7.11 1.73 7.11a2 2 0 0 0 0 1.78S5 18 10 18s8.27-9.11 8.27-9.11a2 2 0 0 0 0-1.78S15 2 10 2zm0 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" fill="#FF883D"/></svg>
                      {clip.views.toLocaleString()}
                    </div>
                    <div className="text-orange-400 font-bold text-base">~ {clip.reward}</div>
                  </div>
                )}
              </div>
            </div>
            {/* Дедлайн */}
            <div className="absolute top-2 left-2 bg-black-02 rounded-lg px-2 py-1 text-xs text-gray-400 font-semibold">{clip.deadline}</div>
          </div>
        ))}
      </div>
      {/* Кнопка показать больше */}
      <div className="flex justify-end px-2 pb-4 sm:px-4">
        <button className="bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-xl px-6 py-2 sm:px-8 sm:py-3 text-base sm:text-lg transition">
          Показать больше
        </button>
      </div>
    </div>
  );
} 